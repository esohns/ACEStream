
set (CPACK_PACKAGE_CONTACT "eriksohns@123mail.org")

#set (CPACK_ALL_INSTALL_TYPES Full Developer)
#set (CPACK_COMPONENT_APPLICATIONS_INSTALL_TYPES Full)
#set (CPACK_COMPONENT_HEADERS_INSTALL_TYPES Developer Full)
#set (CPACK_COMPONENT_LIBRARIES_INSTALL_TYPES Developer Full)

#set (CPACK_INCLUDE_TOPLEVEL_DIRECTORY 0)

#set (CPACK_INSTALL_COMMANDS )
set (CPACK_INSTALL_CMAKE_PROJECTS "@PROJECT_SOURCE_DIR@/cmake;@PROJECT_NAME@;ALL;/")

#set (CPACK_INSTALL_SCRIPT )
#set (CPACK_INSTALLED_DIRECTORIES )
#set (CPACK_MONOLITHIC_INSTALL )

set (CPACK_NSIS_DISPLAY_NAME "@PROJECT_NAME@")

#set (CPACK_OUTPUT_FILE_PEFIX )
set (CPACK_OUTPUT_CONFIG_FILE "release/CPackConfig.cmake")

set (CPACK_PACKAGE_DESCRIPTION_FILE "@PROJECT_SOURCE_DIR@/README")
set (CPACK_PACKAGE_DESCRIPTION @PACKAGE_DESCRIPTION@)
set (CPACK_PACKAGE_DESCRIPTION_SUMMARY @PACKAGE_DESCRIPTION_SUMMARY@)
set (CPACK_PACKAGE_EXECUTABLES "camsource;source\
camtarget;target")
set (CPACK_PACKAGE_FILE_NAME ${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-${CPACK_SYSTEM_NAME}.@CMAKE_SYSTEM_PROCESSOR@)
if (WIN32)
 set (CPACK_PACKAGE_INSTALL_DIRECTORY "$PROGRAMFILES64@PROJECT_NAME@/${CPACK_PACKAGE_FILE_NAME}")
 set (CPACK_PACKAGE_INSTALL_REGISTRY_KEY "@PROJECT_NAME@")
endif ()
set (CPACK_PACKAGE_NAME "lib@PROJECT_NAME@")
set (CPACK_PACKAGE_VENDOR "")
set (CPACK_PACKAGE_VERSION "@VERSION_MAJOR@.@VERSION_MINOR@.@VERSION_MICRO@")
set (CPACK_PACKAGE_VERSION_MAJOR @VERSION_MAJOR@)
set (CPACK_PACKAGE_VERSION_MINOR @VERSION_MINOR@)
set (CPACK_PACKAGE_VERSION_PATCH @VERSION_MICRO@)

#set (CPACK_PACKAGING_INSTALL_PREFIX /usr/local)

# File included at cpack time, once per generator after setting CPACK_GENERATOR
# to the actual generator being used; allows per-generator setting of CPACK_*
# variables at cpack time. (${PROJECT_BINARY_DIR}/CPackOptions.cmake)
#set (CPACK_PROJECT_CONFIG_FILE )

set (CPACK_RESOURCE_FILE_LICENSE "@PROJECT_SOURCE_DIR@/LICENSE")
set (CPACK_RESOURCE_FILE_README "@PROJECT_SOURCE_DIR@/README")
set (CPACK_RESOURCE_FILE_WELCOME "")

#set (CPACK_SOURCE_GENERATOR )
#set (CPACK_SOURCE_IGNORE_FILES )
set (CPACK_SOURCE_OUTPUT_CONFIG_FILE "@PROJECT_SOURCE_DIR@/release/CPackSourceConfig.cmake")
set (CPACK_SOURCE_PACKAGE_FILE_NAME "@CPACK_PACKAGE_NAME@-@VERSION@")
set (CPACK_SOURCE_STRIP_FILES "")

set (CPACK_STRIP_FILES "bin/camsource;bin/camtarget")

#set (CPACK_SYSTEM_NAME ${CMAKE_SYSTEM_NAME})

################################################################################

if (UNIX)
 set (CPACK_SYSTEM_NAME "Linux")

 set (CPACK_TOPLEVEL_TAG "Linux-i686")

 set (CPACK_CMAKE_GENERATOR "Unix Makefiles")

# set (CPACK_SOURCE_GENERATOR "TGZ;TZ")
 set (CPACK_SOURCE_GENERATOR "TGZ")

 if ("${CPACK_SOURCE_GENERATOR}" STREQUAL "TGZ")
  set (CPACK_PACKAGE_FILE_NAME ${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-${CPACK_SYSTEM_NAME}.@CMAKE_SYSTEM_PROCESSOR@)
 endif ("${CPACK_SOURCE_GENERATOR}" STREQUAL "TGZ")

# set (CPACK_GENERATOR "STGZ;TGZ;TZ")
 set (CPACK_GENERATOR "DEB;TGZ")
# set (CPACK_GENERATOR "RPM;TGZ")

 if ("${CPACK_GENERATOR}" STREQUAL "DEB")
  set (CPACK_COMPONENTS_ALL ${CPACK_COMPONENTS_ALL} Debian)

  set (CPACK_DEBIAN_PACKAGE_ARCHITECTURE @CMAKE_SYSTEM_PROCESSOR@)
# Package dependencies (use dpkg -s <packagename> to retrieve version)
#  set (CPACK_DEBIAN_PACKAGE_DEPENDS )
  set (CPACK_DEBIAN_PACKAGE_MAINTAINER ${CPACK_PACKAGE_CONTACT})
  set (CPACK_DEBIAN_PACKAGE_NAME ${CPACK_PACKAGE_NAME})
  set (CPACK_DEBIAN_PACKAGE_PRIORITY "optional")
#  set (CPACK_DEBIAN_PACKAGE_RECOMMENDS )
#  set (CPACK_DEBIAN_PACKAGE_SUGGESTS )
  set (CPACK_DEBIAN_PACKAGE_VERSION ${CPACK_PACKAGE_VERSION})

# This variable allow advanced user to add custom script to the control.tar.gz
# (inside the .deb archive) ${CMAKE_CURRENT_SOURCE_DIR}/postinst
#  set (CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA)
# Package section (see http://packages.debian.org/stable/)
  set (CPACK_DEBIAN_PACKAGE_SECTION @PACKAGE_SECTION@)

#  set (CPACK_PACKAGE_FILE_NAME ${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}.${CPACK_DEBIAN_PACKAGE_ARCHITECTURE})
 elif ("${CPACK_GENERATOR}" STREQUAL "RPM")
  set (CPACK_RPM_PACKAGE_SUMMARY @PACKAGE_DESCRIPTION_SUMMARY@)
  set (CPACK_RPM_PACKAGE_NAME ${CPACK_PACKAGE_NAME})
  set (CPACK_RPM_PACKAGE_VERSION ${CPACK_PACKAGE_VERSION})
  set (CPACK_RPM_PACKAGE_ARCHITECTURE @CMAKE_SYSTEM_PROCESSOR@)
  set (CPACK_RPM_PACKAGE_RELEASE 1)
  set (CPACK_RPM_PACKAGE_LICENSE "LGPL")
# The RPM package group (see /usr/share/doc/rpm-*/GROUPS)
  set (CPACK_RPM_PACKAGE_GROUP @PACKAGE_SECTION@)
#  set (CPACK_RPM_PACKAGE_VENDOR)
  set (CPACK_RPM_PACKAGE_DESCRIPTION @PACKAGE_DESCRIPTION@)
#  set (CPACK_RPM_PACKAGE_REQUIRES )
#  set (CPACK_RPM_PACKAGE_PROVIDES )
#  set (CPACK_RPM_SPEC_INSTALL_POST )
#  set (CPACK_RPM_SPEC_MORE_DEFINE )
#  set (CPACK_RPM_USER_BINARY_SPECFILE )
#  set (CPACK_RPM_GENERATE_USER_BINARY_SPECFILE_TEMPLATE )
#  set (CPACK_RPM_<POST/PRE>_<UN>INSTALL_SCRIPT_FILE )
  set (CPACK_RPM_PACKAGE_DEBUG 1)

#  set (CPACK_PACKAGE_FILE_NAME ${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}.${CPACK_RPM_PACKAGE_ARCHITECTURE})
 endif ()
elseif (WIN32)
 set (CPACK_CMAKE_GENERATOR "Visual Studio 14 2015")

 set (CPACK_ERROR_ON_ABSOLUTE_INSTALL_DESTINATION OFF)

 set (CPACK_GENERATOR "NSIS")

 # There is a bug in NSI that does not handle full unix paths properly. Make
 # sure there is at least one set of four (4) backslashes.
 set (CPACK_PACKAGE_ICON "@PROJECT_SOURCE_DIR@/include\\\\libacestream_icon.png")

 # The default installation directory presented to the end user by the NSIS installer
 set (CPACK_NSIS_INSTALL_ROOT "${PROGRAMFILES64}")

 # Title displayed at the top of the installer
 set (CPACK_NSIS_PACKAGE_NAME "@PROJECT_NAME@ @VERSION_MAJOR@.@VERSION_MINOR@")

 set (CPACK_NSIS_PAGE_COMPONENTS " ")

 #set (CPACK_NSIS_MUI_FINISHPAGE_RUN ${PROJECT_EXE})
 
 set (CPACK_NSIS_INSTALLED_ICON_NAME "bin\\\\camsource.exe")
 set (CPACK_NSIS_DISPLAY_NAME "@PROJECT_NAME@")
 set (CPACK_NSIS_HELP_LINK "http:\\\\\\\\www.github.com\\\\esohns\\\\@PROJECT_NAME@")
 set (CPACK_NSIS_URL_INFO_ABOUT "http:\\\\\\\\www.github.com\\\\esohns\\\\@PROJECT_NAME@")
 set (CPACK_NSIS_CONTACT ${CPACK_PACKAGE_CONTACT})
 set (CPACK_NSIS_MODIFY_PATH ON)
endif ()
